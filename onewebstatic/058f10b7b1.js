oneJQuery(function(a){var b,c=a(".menu");c.each(function(c,d){var e=a(d),f=e.width(),g=e.find(".moreEnabled"),h=null;if(g.length){var i=g.parent();b=b||g.removeClass("displayNone").closest("li").width(),i.find("li").remove();var j=g.closest("li");j.detach();var k=e.find("ul:eq(0)>li");if([].slice.call(k).some(function(c,d){if(c=a(c),c.find(".menuitem").removeClass("displayNone"),f-=c.width(),f-b<0)return h=d,!0}),k.length-1===h&&f>0&&(h=null),null!==h){0===h&&g.closest("li").find(".divider").remove();for(var l=e.find("ul:eq(0)>li"),m=h;m<l.length;m++){var n=a(l[m]);n.detach(),n.find(".divider").remove();var o=n.find(".menuitem");o.removeClass();var p=j.find(".menucascade").attr("class").replace(" menucascade","");o.addClass("menuitem "+p+"item"),m<l.length-1&&n.append('<li class="divider '+p+'divider"></li>'),j.find("ul:eq(0)").append(n)}e.find("ul:eq(0)").append(j),e.find("ul:eq(0) .menuitem").removeClass("displayNone")}}}),a(".menu li > div > .menucascadeanchor, .menu li > div.menucascadeanchor").each(function(){var b=a(this),c=b.closest(".bodysubmenu")[0],d=b.closest("li");if(!c&&0!==this.childElementCount){var e=a(document.createElement("div")),f=!!b.closest(".menuhorizontal").length;if(e.addClass("bodysubmenu"),f?e.addClass("menuhorizontal"):e.addClass("menuvertical"),b.closest(".menuhorizontalleft").length?e.addClass("menuhorizontalleft"):b.closest(".menuhorizontalcenter").length?e.addClass("menuhorizontalcenter"):b.closest(".menuhorizontalright").length?e.addClass("menuhorizontalright"):b.closest(".menuhorizontalfit").length&&e.addClass("menuhorizontalfit"),b.detach(),e.append(b),a(document.body).append(e),d.mouseenter(function(){var b=a(".divider",d),c=0;b&&(c=b.innerWidth()),d.addClass("hover"),e.css("display","block");var g=d.offset();f?(e.css("top",Math.floor(g.top)+d.outerHeight()),e.css("left",g.left+c)):(e.css("top",Math.floor(g.top)),e.css("left",g.left+d.outerWidth()+c))}),d.mouseleave(function(b){var c=a.contains(e[0],b.relatedTarget);c||(d.removeClass("hover"),e.css("display","none"))}),e.mouseout(function(b){var c=a.contains(d,b.relatedTarget),f=a.contains(e[0],b.relatedTarget);c||f||(d.removeClass("hover"),e.css("display","none"))}),("ontouchstart"in window||"onmspointerdown"in window)&&!navigator.userAgent.toLowerCase().match(/windows phone os 7/i)){var g=a.merge(d.find('a[class*="expandable"]'),a('.bodysubmenu a[class*="expandable"]'));if("onmspointerdown"in window)g.each(function(){a(this).attr("aria-haspopup",!0)});else{var h=null;g.each(function(){var a=oneJQuery(this);a.on("click",function(a){var b=oneJQuery(this),c=b.is(h),d=oneJQuery.contains(a.target.parentNode,h),e=!0;null===h?e=!0:c?e=!1:d&&(e=!1),e&&a.preventDefault(),h=a.target})}),navigator.userAgent.toLowerCase().match(/mac/i)&&(d.mouseenter(function(a){h||(h=a.target)}),a(document).on("touchstart",function(b){a(b.target).hasClass("menuitem")||(d.trigger("mouseout",b),h=null)}))}}}})});